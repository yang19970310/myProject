function getData(a){$.ajax({type:"GET",url:a,success:function(a){init(a)},error:function(){}})}function init(a){var o=a.length;player.AudioPlay.setAudio(a[0].audio),player.renderPage(a[0]),event(a,o)}function event(n,r){var l=0;$("body").on("songPlay",function(a,o){player.renderPage(n[o]),player.AudioPlay.setAudio(n[o].audio),"play"!=player.AudioPlay.state&&$(".play",".but-wrap").toggleClass("playing"),player.AudioPlay.play(),player.por.progStart(n[o],r,0)}),$(".prev",".but-wrap").on("click",function(){i=player.countIndex.prve(r),$("body").trigger("songPlay",i)}),$(".next",".but-wrap").on("click",function(){i=player.countIndex.next(r),$("body").trigger("songPlay",i)}),$(".play",".but-wrap").on("click",function(){var a=player.countIndex.index;"play"==player.AudioPlay.state?player.AudioPlay.pause():player.AudioPlay.play(),"play"!=player.AudioPlay.state?player.por.progStop():player.por.progStart(n[a],r),$(".play",".but-wrap").toggleClass("playing")}),$(".cata-icon",".but-wrap").on("click",function(a){a.stopPropagation(),$(".catalog",".but-wrap").find(".song-list").show(1e3),new player.songList(n)}),$(".but-prog").on("touchstart",function(a){var o=player.countIndex.index;player.por.progStop(n[o])}).on("touchmove",function(a){var o=player.countIndex.index,t=$(".prog").offset(),e=t.left,t=t.width,a=a.changedTouches[0].clientX;0<=(l=(a-e)/t)&&l<=1?player.por.updata(n[o],l,r):l=0}).on("touchend",function(a){var o=player.countIndex.index;"play"!=player.AudioPlay.state&&$(".play",".but-wrap").toggleClass("playing"),player.AudioPlay.timePlay(n[o].duration*l),player.por.progStart(n[o],r,l)})}getData("../mock/data.json");